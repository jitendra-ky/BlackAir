{% extends 'base.html' %}
{% load static %}

{% block title %}Dashboard - Resume Builder{% endblock %}

{% block content %}
<div class="dashboard-container">
  <!-- Welcome Section -->
  <div class="dashboard-welcome">
    <h1>Welcome to Your Resume Dashboard</h1>
    <p>Create, manage, and customize your professional resumes</p>
  </div>

  <!-- Dashboard Actions -->
  <div class="dashboard-actions">
    <h2 class="section-title">My Resumes</h2>
    <button id="create-resume-btn" class="btn btn-primary">
      ✨ Create New Resume
    </button>
  </div>

  <!-- Resume List Section -->
  <div id="resume-list" class="resume-grid">
    <!-- Loading spinner -->
    <div id="loading-spinner" class="loading-spinner">
      <div class="spinner"></div>
      <p>Loading your resumes...</p>
    </div>

    <!-- Empty state -->
    <div id="empty-state" class="empty-state" style="display: none;">
      <h3>No resumes yet</h3>
      <p>Start building your professional resume by creating your first one. It's quick and easy!</p>
      <button class="btn btn-primary" onclick="showCreateResumeModal()">
        Create Your First Resume
      </button>
    </div>

    <!-- Resume cards will be dynamically inserted here -->
  </div>
</div>

<!-- Create Resume Modal -->
<div id="create-resume-modal" class="modal" style="display: none;">
  <div class="modal-content">
    <div class="modal-header">
      <h2>Create New Resume</h2>
      <span class="close" id="close-create-modal">&times;</span>
    </div>
    <div class="modal-body">
      <form id="create-resume-form">
        <div class="form-group">
          <label for="resume-title">Resume Title</label>
          <input type="text" id="resume-title" name="title" placeholder="e.g., Software Developer Resume" required>
          <small>Give your resume a descriptive name to help you identify it later.</small>
        </div>
        <div class="form-actions">
          <button type="button" class="btn btn-outline" onclick="closeCreateResumeModal()">Cancel</button>
          <button type="submit" class="btn btn-primary">Create Resume</button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Resume Actions Modal -->
<div id="resume-actions-modal" class="modal" style="display: none;">
  <div class="modal-content">
    <div class="modal-header">
      <h2>Resume Actions</h2>
      <span class="close" id="close-actions-modal">&times;</span>
    </div>
    <div class="modal-body">
      <div class="action-buttons">
        <button class="action-btn" onclick="editResume()">
          <span class="action-icon">✏️</span>
          <span class="action-text">Edit Resume</span>
        </button>
        <button class="action-btn" onclick="viewResume()">
          <span class="action-icon">👁️</span>
          <span class="action-text">View Resume</span>
        </button>
        <button class="action-btn" onclick="duplicateResume()">
          <span class="action-icon">📋</span>
          <span class="action-text">Duplicate Resume</span>
        </button>
        <button class="action-btn danger" onclick="deleteResume()">
          <span class="action-icon">🗑️</span>
          <span class="action-text">Delete Resume</span>
        </button>
      </div>
    </div>
  </div>
</div>

<script type="module" src="{% static 'js/dashboard.js' %}"></script>
{% endblock %}